<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}Valltech - Sistema{% endblock %}</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='base.css') }}">
  <link rel="icon" href="{{ url_for('static', filename='assets/favicon.ico') }}" type="image/x-icon">
  <link rel="icon" type="image/png" sizes="32x32" href="{{ url_for('static', filename='assets/favicon-32x32.png') }}">
  <link rel="icon" type="image/png" sizes="16x16" href="{{ url_for('static', filename='assets/favicon-16x16.png') }}">
  <link rel="apple-touch-icon" sizes="180x180" href="{{ url_for('static', filename='assets/apple-touch-icon.png') }}">
  {% block extra_css %}{% endblock %}
</head>
<body>
  <aside class="sidebar">
    <div class="sidebar-logo">
      <img src="{{ url_for('static', filename='assets/logo-branca.png') }}" alt="Logo Valltech">
    </div>

    <nav class="sidebar-nav">
      <a href="{{ url_for('movimentacoes.listar_movimentacoes') }}">Histórico</a>
      <a href="{{ url_for('movimentacoes.nova_movimentacao') }}">Cadastrar Retirada</a>

      <a href="{{ url_for('listar_materiais') }}">Materiais</a>
      <a href="{{ url_for('novo_material') }}">Novo Material</a>

      <a href="{{ url_for('listar_usuarios') }}">Usuários</a>
      <a href="{{ url_for('novo_usuario') }}">Novo Usuário</a>

      <a href="{{ url_for('clientes.listar_clientes') }}">Clientes</a>
      <a href="{{ url_for('clientes.novo_cliente') }}">Novo Cliente</a>

      <a href="{{ url_for('logout') }}">Logout</a>
    </nav>
  </aside>

  <main class="main-content">
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div class="flash-messages">
          {% for category, message in messages %}
            <div class="flash-message {{ category }}">{{ message }}</div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    {% block content %}
    {% endblock %}
  </main>
  <script>
    setTimeout(() => {
      document.querySelectorAll('.flash-message').forEach(el => {
        el.style.transition = 'opacity 0.5s ease';
        el.style.opacity = '0';
        setTimeout(() => el.remove(), 500);
      });
    }, 5000); 
  </script>

</body>
</html>
